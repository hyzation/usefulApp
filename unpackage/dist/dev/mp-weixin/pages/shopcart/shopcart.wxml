<gui-page class="vue-ref" vue-id="3216da80-1" isLoading="{{pageLoading}}" data-ref="guiPage" bind:__l="__l" vue-slots="{{['gBody']}}"><view slot="gBody"><block wx:if="{{shopCart.length==0}}"><view class="fullPage gui-flex gui-justify-content-center gui-align-items-center fm" style="margin-top:-100rpx;"><gui-image vue-id="{{('3216da80-2')+','+('3216da80-1')}}" src="../../static/images/noData.png" width="{{396}}" height="{{226}}" timer="{{0}}" bind:__l="__l"></gui-image></view></block><block wx:if="{{shopCart.length>0}}"><scroll-view style="{{('height:'+scrollHeight+'px;')}}" scroll-y="{{true}}"><block wx:for="{{shopCart}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block><view class="h20"></view><view class="gui-flex gui-space-between gui-align-items-center bgFFFFFF mlr20 p20 br10 fm gui-relative"><block wx:if="{{item.stock>=item.num}}"><text data-event-opts="{{[['tap',[['itemChange',[index]]]]]}}" class="gui-icons cFF4F00" bindtap="__e">{{item.checked?'':''}}</text></block><block wx:else><view class="noStock c999999 f20 fm">库存不足</view></block><text data-event-opts="{{[['tap',[['removeGoods',[index,'$0'],[[['shopCart','',index,'id']]]]]]]}}" class="del gui-icons gui-absolute-rt" bindtap="__e"></text><view class="shopLi gui-flex gui-space-between gui-align-items-center"><view class="shopLiImg gui-flex gui-align-items-center gui-justify-content-center"><image src="{{item.goods_img+'?imageslim'}}" mode="aspectFill"></image></view><view class="shopLiInfo"><view class="{{['shopLiInfou','gui-ellipsis',item.stock>=item.num?'':'c999999']}}">{{item.goods_name}}</view><view class="shopLiInfom gui-ellipsis">{{item.goodsOptionName}}</view><view class="gui-flex gui-space-between gui-align-items-center"><text class="{{['price',item.stock>=item.num?'cFF4F00':'c999999']}}">{{"￥"+item.price}}</text><block wx:if="{{item.stock>=item.num}}"><gui-step-box vue-id="{{('3216da80-3-'+index)+','+('3216da80-1')}}" datas="{{[index]}}" disabled="{{true}}" value="{{item.num}}" minNum="{{1}}" maxNum="{{item.stock}}" width="150rpx" inputStyle="width:50rpx;height:50rpx;font-size:28rpx;line-height:50rpx;" buttonStyle="width:50rpx;height:50rpx;line-height:50rpx;background-color:#F8F8F8;color:#999999;margin:0;border-radius:5rpx;" data-event-opts="{{[['^change',[['numberChange']]]]}}" bind:change="__e" bind:__l="__l"></gui-step-box></block><block wx:else><gui-step-box vue-id="{{('3216da80-4-'+index)+','+('3216da80-1')}}" datas="{{[index]}}" isClick="{{false}}" disabled="{{true}}" value="{{item.num}}" width="150rpx" inputStyle="width:50rpx;height:50rpx;font-size:28rpx;line-height:50rpx;color:#999999;" buttonStyle="width:50rpx;height:50rpx;line-height:50rpx;background-color:#F8F8F8;color:#999999;margin:0;border-radius:5rpx;" bind:__l="__l"></gui-step-box></block></view></view></view></view></block></block><view class="h20"></view></scroll-view></block><block wx:if="{{shopCart.length>0}}"><view class="shopCartFooter gui-fixed-lb fm" id="footer"><view class="scFooter borderBottom gui-flex gui-space-between gui-align-items-center"><view class="gui-flex gui-space-between gui-align-items-center"><text data-event-opts="{{[['tap',[['itemChangeAll',['$event']]]]]}}" class="gui-icons color16A1A6" bindtap="__e">{{checkedAll?'':''}}</text><text class="checkAll">全选</text></view><view class="gui-flex gui-justify-content-end gui-align-items-center"><text class="checkAll">合计:</text><text class="price fb">{{"￥"+totalprice}}</text><view data-event-opts="{{[['tap',[['sure',['$event']]]]]}}" class="groupR" bindtap="__e">结算</view></view></view></view></block><block wx:else><view class="shopCartFooter_ gui-fixed-lb" id="footer"></view></block><gui-modal class="vue-ref" vue-id="{{('3216da80-5')+','+('3216da80-1')}}" isCloseBtn="{{false}}" title="操作提示" data-ref="guimodal" bind:__l="__l" vue-slots="{{['content','btns']}}"><view class="plt30tb40 gui-bg-gray" slot="content"><view class="gui-text-center f30 fm">确定要移除该商品吗？</view></view><view class="gui-flex gui-rows gui-space-around" slot="btns"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="modal-btns" bindtap="__e"><text class="c999999 fb">取消</text></view><view data-event-opts="{{[['tap',[['doRemove',['$event']]]]]}}" class="modal-btns" bindtap="__e"><text class="cFF4F00 fb">确认</text></view></view></gui-modal></view></gui-page>