{"version":3,"sources":["uni-app:///main.js","webpack:///D:/Work/Project/有用APP/pages/my/setting/addcreditcard.vue?b9f6","webpack:///D:/Work/Project/有用APP/pages/my/setting/addcreditcard.vue?7d5f","webpack:///D:/Work/Project/有用APP/pages/my/setting/addcreditcard.vue?d842","webpack:///D:/Work/Project/有用APP/pages/my/setting/addcreditcard.vue?099e","uni-app:///pages/my/setting/addcreditcard.vue","webpack:///D:/Work/Project/有用APP/pages/my/setting/addcreditcard.vue?a8b9","webpack:///D:/Work/Project/有用APP/pages/my/setting/addcreditcard.vue?4c04"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;;;AAGA;AACA,kH,8FAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAGAC,UAAU,CAACC,sBAAD,CAAV,C;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0H;AAC1H;AACiE;AACL;AACa;;;AAGzE;AACgL;AAChL,gBAAgB,uLAAU;AAC1B,EAAE,mFAAM;AACR,EAAE,wFAAM;AACR,EAAE,iGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,4FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,wLAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAA2qB,CAAgB,yqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2D/rB,8D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAFA,UACA,2E,eAEA,EACA,IADA,kBACA,CACA,SACA,kBADA,EAEA,OAFA,EAGA,WAHA,EAIA,aAJA,EAKA,aALA,EAMA,oBANA,EAOA,eAPA,EAQA,kBARA,EASA,YATA,EAUA,aAVA,GAYA,CAdA,EAeA,2BACA,aACA,CAjBA,EAkBA,+BACA,2BACA,CApBA,EAqBA,WACA,iCACA,kBACA,QADA,EACA;AACA,gCAFA,EAEA;AACA,uCAHA,EAGA;AACA,wCACA,oDACA,IADA,CACA,mBACA,mEACA,yBACA,CAJA,EAKA,KALA,CAKA,kBACA,iEACA,CAPA,EAQA,CAbA,IAeA,CAjBA,EAkBA,+CACA,yBACA,kBACA,uDACA,kBACA,iCADA,EAEA,EACA,cADA,EAFA,EAKA,gBACA,0BACA,kCACA,mDACA,sCACA,4HACA,CAJA,MAIA,CACA,oEACA,CACA,CARA,MAQA,CACA;AACA;AACA,OAjBA;AAkBA;AACA;AACA,OApBA;AAqBA;AACA;AACA,OAvBA;AAwBA,UAxBA;AAyBA,UAzBA;;AA2BA,KAjDA;AAkDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAHA,MAGA;AACA;AACA;AACA;AACA;AACA,SATA;AAUA,OAdA,MAcA;AACA;AACA;AACA,KApEA;AAqEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0FADA;AAEA,oFAFA;AAGA,+EAHA;AAIA,iFAJA;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CADA;AAEA;AACA;AACA,2CADA;AAEA,uDAFA;AAGA,uDAHA;AAIA,8BAJA,EADA,EAFA;;;AAUA;AACA;AACA;AACA;AACA;AACA,iDADA;AAEA;AACA;AACA,iDADA;AAEA,wBAFA,EADA,EAFA;;;AAQA;AACA;AACA;AACA;AACA,uDADA;AAEA;AACA,kCADA,EAFA;;AAKA;AACA;AACA;AACA;AACA;AACA,uBAFA,EAEA,IAFA;AAGA,qBALA,MAKA;AACA;AACA;AACA,mBAdA;AAeA;AACA;AACA,mBAjBA;AAkBA;AACA;AACA,mBApBA;AAqBA,sBArBA;;AAuBA,iBAxBA,MAwBA;AACA;AACA;AACA;AACA,eA7BA,MA6BA;AACA;AACA;AACA;AACA,aA1CA;AA2CA;AACA;AACA;AACA,aA9CA;AA+CA;;AAEA,aAjDA;AAkDA,gBAlDA;AAmDA,gBAnDA;;AAqDA,WAvDA,MAuDA;AACA;AACA;AACA;AACA,SA5DA,MA4DA;AACA;AACA;AACA;AACA,OA3EA;AA4EA;AACA;AACA;AACA,OA/EA;AAgFA;;AAEA,OAlFA;AAmFA,UAnFA;AAoFA,UApFA;;AAsFA,KAhLA;AAiLA;AACA;AACA;AACA;AACA;AACA,4FADA;AAEA,4FAFA;AAGA,yFAHA;AAIA,yFAJA;AAKA,0FALA;AAMA,4FANA;AAOA,2FAPA;AAQA,+FARA;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CADA;AAEA;AACA,sBADA,EAFA;;AAKA;AACA;AACA;AACA;AACA;AACA,sBADA;;AAGA,WAJA,EAIA,IAJA;AAKA,SAPA,MAOA;AACA;AACA;AACA,OAhBA;AAiBA;AACA;AACA,OAnBA;AAoBA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,EAEA,IAFA;AAGA;AACA,OA5BA;AA6BA,UA7BA;AA8BA,UA9BA;;AAgCA,KAvOA,EArBA,E;;;;;;;;;;;;;AC5DA;AAAA;AAAA;AAAA;AAAw9B,CAAgB,k7BAAG,EAAC,C;;;;;;;;;;;ACA5+B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/my/setting/addcreditcard.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/my/setting/addcreditcard.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./addcreditcard.vue?vue&type=template&id=07e64a7e&\"\nvar renderjs\nimport script from \"./addcreditcard.vue?vue&type=script&lang=js&\"\nexport * from \"./addcreditcard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addcreditcard.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/my/setting/addcreditcard.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addcreditcard.vue?vue&type=template&id=07e64a7e&\"","var components\ntry {\n  components = {\n    guiPage: function() {\n      return import(\n        /* webpackChunkName: \"GraceUI5/components/gui-page\" */ \"@/GraceUI5/components/gui-page.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addcreditcard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addcreditcard.vue?vue&type=script&lang=js&\"","<template>\n\t<gui-page :isLoading=\"pageLoading\" ref=\"guiPage\">\n\t\t<view slot=\"gBody\">\n\t\t\t<form @submit=\"submit\">\n\t\t\t\t<view class=\"bgff plr40 mt20\">\n\t\t\t\t\t<view class=\"gui-form-item gui-border-b list-item\">\n\t\t\t\t\t\t<text class=\"gui-form-label f28\">银行卡号</text>\n\t\t\t\t\t\t<view class=\"gui-form-body gui-flex gui-align-items-center gui-justify-content-end\">\n\t\t\t\t\t\t\t<input type=\"number\" class=\"gui-form-input gui-text-right\" v-model=\"bankCardNumber\" name=\"credit_card_code\" placeholder=\"请输入您的信用卡号\" />\r\n\t\t\t\t\t\t\t<text @tap=\"chooseImg\" class=\"gui-icons c999999 f28 ml20\">&#xe61d;</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"gui-form-item gui-border-b list-item\">\r\n\t\t\t\t\t\t<text class=\"gui-form-label f28\">银行名称</text>\r\n\t\t\t\t\t\t<view class=\"gui-form-body gui-flex gui-align-items-center gui-justify-content-end\">\r\n\t\t\t\t\t\t\t<input type=\"text\" class=\"gui-form-input gui-text-right\" v-model=\"bankName\" name=\"credit_card_bank\" placeholder=\"请输入银行名称\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"gui-form-item gui-border-b list-item\">\r\n\t\t\t\t\t\t<text class=\"gui-form-label f28\">有效期</text>\r\n\t\t\t\t\t\t<view class=\"gui-form-body gui-flex gui-align-items-center gui-justify-content-end\">\r\n\t\t\t\t\t\t\t<input type=\"text\" class=\"gui-form-input gui-text-right\" v-model=\"validDate\" name=\"credit_date\" placeholder=\"请输入信用卡有效期 如0829\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"gui-form-item gui-border-b list-item\">\r\n\t\t\t\t\t\t<text class=\"gui-form-label f28\">安全码</text>\r\n\t\t\t\t\t\t<view class=\"gui-form-body gui-flex gui-align-items-center gui-justify-content-end\">\r\n\t\t\t\t\t\t\t<input type=\"text\" class=\"gui-form-input gui-text-right\" name=\"credit_safe\" placeholder=\"请输入信用卡背面三位安全码\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"gui-form-item gui-border-b list-item\">\n\t\t\t\t\t\t<text class=\"gui-form-label f28\">手机号码</text>\n\t\t\t\t\t\t<view class=\"gui-form-body\">\n\t\t\t\t\t\t\t<input type=\"number\" v-model=\"tel\" class=\"gui-form-input gui-text-right\" name=\"credit_card_tel\" placeholder=\"请输入信用卡预留手机号\" />\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"gui-form-item list-item\">\n\t\t\t\t\t\t<text class=\"gui-form-label f28\">短信验证码</text>\n\t\t\t\t\t\t<view class=\"gui-form-body\">\n\t\t\t\t\t\t\t<input type=\"number\" class=\"gui-form-input gui-text-right\" name=\"verificationCode\" v-model=\"verificationCode\" placeholder=\"请输入验证码\"/>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"yzmbtn f22 gui-text-center ml20 cff4f00\" :class=\"[!isClick ? 'disabled' : '']\" @tap=\"getVerificationCode\">{{text}}</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"wp100 ptb20 mt20\">\n\t\t\t\t\t<button form-type=\"submit\" class=\"btnff4f00 mauto f30 fb\">提交</button>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"f22 c99 gui-padding mt20\">\n\t\t\t\t\t<view class=\"mt10\">1.请确保绑定的卡为银行信用卡。</view>\n\t\t\t\t\t<view class=\"mt10\">2.请确保信用卡为本人所有，无法绑定他人的银行卡。</view>\n\t\t\t\t\t<view class=\"mt10\">3.请尽量选择大型商业银行。</view>\n\t\t\t\t</view>\n\t\t\t</form>\n\t\t</view>\n\t</gui-page>\n</template>\n<script>\r\nvar _this;\r\nvar graceChecker = require(\"@/GraceUI5/js/checker.js\");\r\nimport { pathToBase64 } from 'image-tools';\nexport default {\n\tdata() { \n\t\treturn {\n\t\t\tpageLoading: false,\r\n\t\t\ttel: '',\r\n\t\t\ttimer: null,\r\n\t\t\ttext: '获取验证码',\r\n\t\t\tisClick: true,\r\n\t\t\tverificationCode: '',\r\n\t\t\timageBase64: '',\r\n\t\t\tbankCardNumber: '',\r\n\t\t\tbankName: '',\r\n\t\t\tvalidDate: '',\n\t\t}\n\t},\n\tonLoad: function(){\r\n\t\t_this = this;\r\n\t},\r\n\tonUnload: function(){\r\n\t\tclearInterval(_this.timer);\r\n\t},\n\tmethods:{\r\n\t\tchooseImg: function(){\r\n\t\t\tuni.chooseImage({\r\n\t\t\t\tcount: 1, //默认9\r\n\t\t\t\tsizeType: ['compressed'], //可以指定是原图还是压缩图，默认二者都有\r\n\t\t\t\tsourceType: ['album','camera'], //从相册选择\r\n\t\t\t\tsuccess: function(res){\r\n\t\t\t\t\tpathToBase64(res.tempFilePaths[0])\r\n\t\t\t\t\t\t.then(base64 => {\r\n\t\t\t\t\t\t\t_this.imageBase64 = base64.replace(/^data:image\\/\\w+;base64,/,'');\r\n\t\t\t\t\t\t\t_this.getBankCardIdent();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(error => {\r\n\t\t\t\t\t\t\t_this.$refs.guiPage.openMessage('default','图片转码失败',true,1500);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetBankCardIdent: function(){\r\n\t\t\t_this.pageLoading = true;\r\n\t\t\tvar formData = {};\r\n\t\t\tformData.image = encodeURIComponent(_this.imageBase64);\r\n\t\t\tuni.gRequest.post(\r\n\t\t\t\t'swoft/api/user/getBankCardIdent',\r\n\t\t\t\t{\r\n\t\t\t\t\tdata: formData\r\n\t\t\t\t}, \r\n\t\t\t\t(res) => {\r\n\t\t\t\t\tif(res.error_code == 0){\r\n\t\t\t\t\t\tif(res.result.bank_card_number){\r\n\t\t\t\t\t\t\t_this.bankCardNumber = res.result.bank_card_number;\r\n\t\t\t\t\t\t\t_this.bankName = res.result.bank_name;\r\n\t\t\t\t\t\t\t_this.validDate = res.result.valid_date.substring(0,2)+res.result.valid_date.substring(res.result.valid_date.length-2);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t_this.$refs.guiPage.openMessage('default','未识别到银行卡信息',true,1500);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t_this.$refs.guiPage.openMessage('default',res.reason,true,1500);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t(error) => {\r\n\t\t\t\t\t_this.$refs.guiPage.openMessage('default','请求错误',true,1500);\r\n\t\t\t\t},\r\n\t\t\t\t(res) => {\r\n\t\t\t\t\t_this.pageLoading = false;\r\n\t\t\t\t},\r\n\t\t\t\ttrue,\r\n\t\t\t\ttrue\r\n\t\t\t);\r\n\t\t},\r\n\t\tgoTime: function(){\r\n\t\t\tif(_this.isClick){\r\n\t\t\t\t_this.isClick = false;\r\n\t\t\t\tvar time = 60;\r\n\t\t\t\t_this.text = time+'秒后重发';\r\n\t\t\t\t_this.timer = uni.gJS.interval(1000, ()=>{\r\n\t\t\t\t\tif(time > 0){\r\n\t\t\t\t\t\ttime --;\r\n\t\t\t\t\t\t_this.text = time+'秒后重发';\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t_this.isClick = true;\r\n\t\t\t\t\t\t_this.text = '获取验证码';\r\n\t\t\t\t\t\tclearInterval(_this.timer);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetVerificationCode: function(){\r\n\t\t\tif(!_this.isClick){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tvar formData = {};\r\n\t\t\tformData.tel = _this.tel;\r\n\t\t\tformData.bankCardNumber = _this.bankCardNumber;\r\n\t\t\tformData.bankName = _this.bankName;\r\n\t\t\tvar rule = [\r\n\t\t\t\t{name: \"bankCardNumber\", checkType: \"notnull\", checkRule: \"\", errorMsg: \"请输入信用卡号\"},\r\n\t\t\t\t{name: \"bankName\", checkType: \"notnull\", checkRule: \"\", errorMsg: \"请输入银行名称\"},\r\n\t\t\t\t{name: \"tel\", checkType: \"notnull\", checkRule: \"\", errorMsg: \"请输入手机号码\"},\r\n\t\t\t\t{name: \"tel\", checkType: \"phoneno\", checkRule: \"\", errorMsg: \"手机号码格式不正确\"},\r\n\t\t\t];\r\n\t\t\tvar checkRes = graceChecker.check(formData, rule);\r\n\t\t\tif(!checkRes){\r\n\t\t\t\t_this.$refs.guiPage.openMessage('default',graceChecker.error,true,1500);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t// 四要素验证\r\n\t\t\t_this.pageLoading = true;\r\n\t\t\tuni.gRequest.post(\r\n\t\t\t\t'swoft/api/user/getBankCardVerification',\r\n\t\t\t\t{\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tbankcard: formData.bankCardNumber,\r\n\t\t\t\t\t\trealname: uni.getStorageSync('userInfo').name,\r\n\t\t\t\t\t\tidcard: uni.getStorageSync('userInfo').idCard,\r\n\t\t\t\t\t\tmobile: formData.tel\r\n\t\t\t\t\t}\r\n\t\t\t\t}, \r\n\t\t\t\t(res) => {\r\n\t\t\t\t\tif(res.error_code == 0){\r\n\t\t\t\t\t\tif(res.result.res == 1){\r\n\t\t\t\t\t\t\t// 判断银行卡类型\r\n\t\t\t\t\t\t\tuni.gRequest.post(\r\n\t\t\t\t\t\t\t\t'swoft/api/user/getBankCardTypeIdent',\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\t\tbankcard: formData.bankCardNumber,\r\n\t\t\t\t\t\t\t\t\t\tencry: 0\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}, \r\n\t\t\t\t\t\t\t\t(res) => {\r\n\t\t\t\t\t\t\t\t\tif(res.error_code == 0){\r\n\t\t\t\t\t\t\t\t\t\tif(res.result.cardtype == '贷记卡'){\r\n\t\t\t\t\t\t\t\t\t\t\tuni.gRequest.post(\r\n\t\t\t\t\t\t\t\t\t\t\t\t'swoft/api/login/getVerificationCode',\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata: formData\r\n\t\t\t\t\t\t\t\t\t\t\t\t}, \r\n\t\t\t\t\t\t\t\t\t\t\t\t(res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif(res.code == 0){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this.$refs.guiPage.openMessage('success',res.msg,true,1500);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this.goTime();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},1500)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this.$refs.guiPage.openMessage('default',res.msg,true,1500);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t(error) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t_this.$refs.guiPage.openMessage('default','请求错误',true,1500);\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t(res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t_this.pageLoading = false;\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\t\t_this.$refs.guiPage.openMessage('default','银行卡类型必须为贷记卡',true,1500);\r\n\t\t\t\t\t\t\t\t\t\t\t_this.pageLoading = false;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\t_this.$refs.guiPage.openMessage('default',res.reason,true,1500);\r\n\t\t\t\t\t\t\t\t\t\t_this.pageLoading = false;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t(error) => {\r\n\t\t\t\t\t\t\t\t\t_this.$refs.guiPage.openMessage('default','请求错误',true,1500);\r\n\t\t\t\t\t\t\t\t\t_this.pageLoading = false;\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t(res) => {\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\ttrue,\r\n\t\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t_this.$refs.guiPage.openMessage('default',res.result.message,true,1500);\r\n\t\t\t\t\t\t\t_this.pageLoading = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t_this.$refs.guiPage.openMessage('default',res.msg,true,1500);\r\n\t\t\t\t\t\t_this.pageLoading = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t(error) => {\r\n\t\t\t\t\t_this.$refs.guiPage.openMessage('default','请求错误',true,1500);\r\n\t\t\t\t\t_this.pageLoading = false;\r\n\t\t\t\t},\r\n\t\t\t\t(res) => {\r\n\t\t\t\t\t\r\n\t\t\t\t},\r\n\t\t\t\ttrue,\r\n\t\t\t\ttrue\r\n\t\t\t);\r\n\t\t},\r\n\t\tsubmit: function(e){\r\n\t\t\tvar formData = {};\r\n\t\t\tformData = e.detail.value;\r\n\t\t\tconsole.log(formData);\r\n\t\t\tvar rule = [\r\n\t\t\t\t{name: \"credit_card_code\", checkType: \"notnull\", checkRule: \"\", errorMsg: \"请输入信用卡号\"},\r\n\t\t\t\t{name: \"credit_card_bank\", checkType: \"notnull\", checkRule: \"\", errorMsg: \"请输入银行名称\"},\r\n\t\t\t\t{name: \"credit_date\", checkType: \"notnull\", checkRule: \"\", errorMsg: \"请输入信用卡有效期\"},\r\n\t\t\t\t{name: \"credit_safe\", checkType: \"notnull\", checkRule: \"\", errorMsg: \"请输入信用卡安全码\"},\r\n\t\t\t\t{name: \"credit_card_tel\", checkType: \"notnull\", checkRule: \"\", errorMsg: \"请输入手机号\"},\r\n\t\t\t\t{name: \"credit_card_tel\", checkType: \"phoneno\", checkRule: \"\", errorMsg: \"手机号格式不正确\"},\r\n\t\t\t\t{name: \"verificationCode\", checkType: \"notnull\", checkRule: \"\", errorMsg: \"请输入验证码\"},\r\n\t\t\t\t{name: \"verificationCode\", checkType: \"string\", checkRule: \"6,6\", errorMsg: \"验证码长度为6位\"}\r\n\t\t\t];\r\n\t\t\tvar checkRes = graceChecker.check(formData, rule);\r\n\t\t\tif(!checkRes){\r\n\t\t\t\t_this.$refs.guiPage.openMessage('default',graceChecker.error,true,1500);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tformData.uid = uni.getStorageSync('userInfo').id;\r\n\t\t\tformData.id = 0;\r\n\t\t\t_this.pageLoading = true;\r\n\t\t\tuni.gRequest.post(\r\n\t\t\t\t'swoft/api/user/userCreditBankActive',\r\n\t\t\t\t{\r\n\t\t\t\t\tdata: formData\r\n\t\t\t\t}, \r\n\t\t\t\t(res) => {\r\n\t\t\t\t\tif(res.code == 0){\r\n\t\t\t\t\t\t_this.$refs.guiPage.openMessage('success',res.msg,true,1500);\r\n\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\t\t\tdelta: 1\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t},1500)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t_this.$refs.guiPage.openMessage('default',res.msg,true,1500);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t(error) => {\r\n\t\t\t\t\t_this.$refs.guiPage.openMessage('default','请求错误',true,1500);\r\n\t\t\t\t},\r\n\t\t\t\t(res) => {\r\n\t\t\t\t\t_this.pageLoading = false;\r\n\t\t\t\t\tif(res.data.code == 3){\r\n\t\t\t\t\t\t_this.$refs.guiPage.openMessage('default','请重新登录',true,1500);\r\n\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\tuni.gRequest.gotoLogin();\r\n\t\t\t\t\t\t},1500);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\ttrue,\r\n\t\t\t\ttrue\r\n\t\t\t);\r\n\t\t}\n\t}\n}\n</script>\n<style>\r\n\t@import url('@/static/css/li.css');\n\tpage{background-color: #F5F5F9}\n\t.list-item{height: 90rpx;}\n\t.btnff4f00{width:690rpx;height:90rpx;background: #ff4f00;border-radius: 45rpx;text-align: center;line-height: 90rpx;color: #fff;}\n\t.yzmbtn{width: 134rpx;height: 50rpx;border: 1px solid #ff4f00;border-radius: 10rpx;line-height: 50rpx;}\n\t.gui-form-label{width: 150rpx;}\r\n\t.disabled{color:#999999;border-color:#999999;}\n</style>\n","import mod from \"-!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addcreditcard.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addcreditcard.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1665476419549\n      var cssReload = require(\"D:/Work/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}