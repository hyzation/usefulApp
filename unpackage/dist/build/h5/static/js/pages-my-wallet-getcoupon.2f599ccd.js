(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-my-wallet-getcoupon"],{"0364":function(t,i,e){"use strict";e("7a82"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("a9e3");var a={name:"gui-image",props:{src:{type:String,default:""},mode:{type:String,default:"widthFix"},width:{type:Number,default:300},height:{type:Number,default:0},timer:{type:Number,default:200},borderRadius:{type:String,default:"0rpx"}},data:function(){return{isLoading:!0,imgHeight:180,opacity:0,animate:!1,failed:!1}},methods:{imgLoad:function(t){var i=this,e=t.detail.width/t.detail.height;this.imgHeight=this.width/e,this.animate=!0,setTimeout((function(){i.isLoading=!1,i.opacity=1}),this.timer)},error:function(){this.isLoading=!1,this.failed=!0}}};i.default=a},1780:function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,".gui-popup[data-v-092cba5e]{width:%?750?%;position:fixed;z-index:99999;left:0;top:0;bottom:0;flex:1}.gui-popup-content[data-v-092cba5e]{overflow:hidden}.gui-fade-out[data-v-092cba5e]{opacity:0}.gui-popup-center[data-v-092cba5e]{-webkit-transform:scale(.3);transform:scale(.3)}.gui-popup-top[data-v-092cba5e]{-webkit-transform:translateY(-1000px);transform:translateY(-1000px)}.gui-popup-bottom[data-v-092cba5e]{-webkit-transform:translateY(600px);transform:translateY(600px)}.gui-popup-left[data-v-092cba5e]{-webkit-transform:translateX(-600px);transform:translateX(-600px)}.gui-popup-right[data-v-092cba5e]{-webkit-transform:translateX(600px);transform:translateX(600px)}\n.gui-popup[data-v-092cba5e]{height:100%}\r\n",""]),t.exports=i},"17f1":function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return n})),e.d(i,"a",(function(){}));var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"gui-img gui-flex gui-align-items-center gui-justify-content-center",style:{width:t.width+"rpx",height:0==t.height?t.imgHeight+"rpx":t.height+"rpx",borderRadius:t.borderRadius}},[e("v-uni-image",{style:{width:t.width+"rpx",height:t.imgHeight+"rpx",borderRadius:t.borderRadius,opacity:t.opacity},attrs:{src:t.src,mode:t.mode},on:{load:function(i){arguments[0]=i=t.$handleEvent(i),t.imgLoad.apply(void 0,arguments)},error:function(i){arguments[0]=i=t.$handleEvent(i),t.error.apply(void 0,arguments)}}}),t.isLoading?e("v-uni-text",{staticClass:"gui-img-loading gui-icons",class:[t.animate?"gui-fade-out":""],style:{width:t.width+"rpx",height:0==t.height?t.imgHeight+"rpx":t.height+"rpx",lineHeight:0==t.height?t.imgHeight+"rpx":t.height+"rpx",borderRadius:t.borderRadius}},[t._v("")]):t._e(),t.failed?e("v-uni-text",{staticClass:"gui-img-loading gui-icons",class:[t.animate?"gui-fade-out":""],style:{width:t.width+"rpx",height:0==t.height?t.imgHeight+"rpx":t.height+"rpx",lineHeight:0==t.height?t.imgHeight+"rpx":t.height+"rpx",borderRadius:t.borderRadius}},[t._v("")]):t._e()],1)},n=[]},2253:function(t,i,e){var a=e("1780");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("52085d8a",a,!0,{sourceMap:!1,shadowMode:!1})},"23a5":function(t,i,e){var a=e("7fc8");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("1e7f1882",a,!0,{sourceMap:!1,shadowMode:!1})},"2e56":function(t,i,e){"use strict";var a=e("23a5"),n=e.n(a);n.a},"38c5":function(t,i,e){"use strict";e("7a82"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("a9e3");var a={name:"gui-popup",props:{bgColor:{type:String,default:"rgba(0, 0, 0, 0.7)"},position:{type:String,default:"center"},width:{type:String,default:"580rpx"},canCloseByShade:{type:Boolean,default:!0},zIndex:{type:Number,default:99999},top:{type:Number,default:0},duration:{type:Number,default:280}},data:function(){return{show:!1,out:!1}},methods:{open:function(){this.out=!1,this.show=!0},closebysd:function(){this.canCloseByShade&&this.close()},close:function(){var t=this;this.out=!0,setTimeout((function(){t.show=!1,t.$emit("close")}),350)},stopfun:function(t){return t.stopPropagation(),null}}};i.default=a},4860:function(t,i,e){"use strict";e.r(i);var a=e("38c5"),n=e.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(o);i["default"]=n.a},"4e81":function(t,i,e){"use strict";var a;e("7a82"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n={data:function(){return{pageLoading:!1,list:[],userInfo:null,item:null}},onLoad:function(){a=this,a.getUserInfo()},methods:{doReceiveCoupons:function(){a.pageLoading=!0,uni.gRequest.post("swoft/api/coupons/receiveCoupons",{data:{type:2,couponsIds:a.item.id,uid:uni.getStorageSync("userInfo").id}},(function(t){0==t.code?(a.$refs.guipopup.close(),a.$refs.guiPage.openMessage("success","兑换成功",!0,1500),setTimeout((function(){a.getUserInfo()}),1500)):a.$refs.guiPage.openMessage("default",t.msg,!0,1500)}),(function(t){a.$refs.guiPage.openMessage("default","请求错误",!0,1500)}),(function(t){a.pageLoading=!1}),!0,!0)},receiveCoupons:function(t){a.item=t,a.$refs.guipopup.open()},getUserInfo:function(){a.pageLoading=!0,uni.gRequest.post("swoft/api/user/getUserInfo",{data:{id:uni.getStorageSync("userInfo").id}},(function(t){0==t.code?(a.userInfo=t.data,uni.setStorageSync("userInfo",t.data),a.getCouponsList()):a.$refs.guiPage.openMessage("default",t.msg,!0,1500)}),(function(t){a.$refs.guiPage.openMessage("default","请求错误",!0,1500)}),(function(t){3==t.data.code&&(a.$refs.guiPage.openMessage("default","请重新登录",!0,1500),setTimeout((function(){uni.gRequest.gotoLogin()}),1500))}),!0,!0)},getCouponsList:function(){a.pageLoading=!0,uni.gRequest.post("swoft/api/coupons/getCouponsList",{data:{type:2,uid:uni.getStorageSync("userInfo").id}},(function(t){0==t.code?a.list=t.data:a.$refs.guiPage.openMessage("default",t.msg,!0,1500)}),(function(t){a.$refs.guiPage.openMessage("default","请求错误",!0,1500)}),(function(t){a.pageLoading=!1}),!0,!0)}}};i.default=n},"7fb3":function(t,i,e){"use strict";var a=e("c9f6"),n=e.n(a);n.a},"7fc8":function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,'uni-page-body[data-v-51689948]{font-family:MEDIUM}.mt46[data-v-51689948]{margin-top:%?46?%}.mr30[data-v-51689948]{margin-right:%?30?%}.mauto[data-v-51689948]{margin:0 auto}.bgff[data-v-51689948]{background-color:#fff}.bgF5D395[data-v-51689948]{background-color:#f5d395}.p20[data-v-51689948]{padding:%?20?%}.plr20[data-v-51689948]{padding-left:%?20?%;padding-right:%?20?%}.ptb20[data-v-51689948]{padding-top:%?20?%;padding-bottom:%?20?%}.mt20[data-v-51689948]{margin-top:%?20?%}.mt30[data-v-51689948]{margin-top:%?30?%}.ml10[data-v-51689948]{margin-left:%?10?%}.ml20[data-v-51689948]{margin-left:%?20?%}.mlr20[data-v-51689948]{margin-left:%?20?%;margin-right:%?20?%}.mt10[data-v-51689948]{margin-top:%?10?%}.mb10[data-v-51689948]{margin-bottom:%?10?%}.f28[data-v-51689948]{font-size:%?28?%}.f26[data-v-51689948]{font-size:%?26?%}.f22[data-v-51689948]{font-size:%?22?%}.f36[data-v-51689948]{font-size:%?36?%}.f24[data-v-51689948]{font-size:%?24?%}.c99[data-v-51689948]{color:#666}.c989898[data-v-51689948]{color:#989898}.cff4f00[data-v-51689948]{color:#ff4f00}.c33[data-v-51689948]{color:#333}.bgff4f00[data-v-51689948]{background-color:#ff4f00}.btn1[data-v-51689948]{width:%?200?%;height:%?90?%;border-radius:%?45?%;line-height:%?90?%;text-align:center}.btn2[data-v-51689948]{width:%?196?%;height:%?86?%;border-radius:%?45?%;line-height:%?90?%;text-align:center}.tag1[data-v-51689948]{height:%?40?%;border-radius:%?20?%;width:%?110?%;text-align:center;line-height:%?40?%}.tag2[data-v-51689948]{height:%?40?%;border-radius:%?20?%;width:%?80?%;text-align:center;line-height:%?40?%}.btn-A[data-v-51689948]{width:%?690?%;height:%?90?%;border-radius:45px;line-height:%?90?%;text-align:center;margin:0 auto}.border-ff4f00[data-v-51689948]{border:%?1?% solid #ff4f00}.c66[data-v-51689948]{color:#666}.cff[data-v-51689948]{color:#fff}.no-scale[data-v-51689948]{flex-shrink:0}.wp100[data-v-51689948]{width:100%}.fw500[data-v-51689948]{font-weight:500}.borderBottom[data-v-51689948]:before{content:" ";position:absolute;bottom:0;left:0;right:0;border-bottom:1px solid #f1f1f1;-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:scaleY(.5);transform:scaleY(.5)}uni-page-body[data-v-51689948]{background-color:#f5f5f9}body.?%PAGE?%[data-v-51689948]{background-color:#f5f5f9}.dh[data-v-51689948]{width:%?542?%;height:%?563?%}.tiao[data-v-51689948]{height:%?30?%}.h165[data-v-51689948]{height:%?165?%}.w215[data-v-51689948]{width:%?215?%}.w60[data-v-51689948]{width:%?60?%}.w630[data-v-51689948]{width:%?630?%}.coupon[data-v-51689948]{width:%?690?%;height:%?165?%}.ml30[data-v-51689948]{margin-left:%?30?%}.ml80[data-v-51689948]{margin-left:%?80?%}.ml226[data-v-51689948]{margin-left:%?236?%}.cFFA075[data-v-51689948]{color:#ffa075}.f70[data-v-51689948]{font-size:%?70?%}.f34[data-v-51689948]{font-size:%?34?%}.f32[data-v-51689948]{font-size:%?32?%}.mt238[data-v-51689948]{margin-top:%?238?%}.mt67[data-v-51689948]{margin-top:%?67?%}.mt50[data-v-51689948]{margin-top:%?50?%}',""]),t.exports=i},a78f:function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return n})),e.d(i,"a",(function(){}));var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.show?e("v-uni-view",["center"==t.position?e("v-uni-view",{ref:"guipopup",staticClass:"gui-popup gui-flex gui-columns gui-justify-content-center gui-align-items-center",class:[t.out?"gui-fade-out":"gui-fade-in"],style:{backgroundColor:t.bgColor,zIndex:t.zIndex,top:t.top+"px",animationDuration:t.duration+"ms"},on:{touchmove:function(i){i.stopPropagation(),i.preventDefault(),arguments[0]=i=t.$handleEvent(i),t.stopfun.apply(void 0,arguments)},click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.closebysd.apply(void 0,arguments)}}},[e("v-uni-view",{ref:"guiPopupCenter",staticClass:"gui-popup-content gui-popup-center",class:[t.out?"gui-scale-out":"gui-scale-in"],style:{width:t.width,animationDuration:t.duration+"ms"},on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.stopfun.apply(void 0,arguments)}}},[t._t("default")],2)],1):t._e(),"top"==t.position?e("v-uni-view",{ref:"guipopup",staticClass:"gui-popup gui-flex gui-columns",class:[t.out?"gui-fade-out":"gui-fade-in"],style:{backgroundColor:t.bgColor,zIndex:t.zIndex,top:t.top+"px",animationDuration:t.duration+"ms"},on:{touchmove:function(i){i.stopPropagation(),i.preventDefault(),arguments[0]=i=t.$handleEvent(i),t.stopfun.apply(void 0,arguments)},click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.closebysd.apply(void 0,arguments)}}},[e("v-uni-view",{ref:"guiPopupTop",staticClass:"gui-popup-content gui-popup-top",class:[t.out?"gui-top-out":"gui-top-in"],style:{animationDuration:t.duration+"ms"},on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.stopfun.apply(void 0,arguments)}}},[t._t("default")],2)],1):t._e(),"bottom"==t.position?e("v-uni-view",{ref:"guipopup",staticClass:"gui-popup gui-flex gui-columns gui-justify-content-end",class:[t.out?"gui-fade-out":"gui-fade-in"],style:{backgroundColor:t.bgColor,zIndex:t.zIndex,top:t.top+"px",animationDuration:t.duration+"ms"},on:{touchmove:function(i){i.stopPropagation(),i.preventDefault(),arguments[0]=i=t.$handleEvent(i),t.stopfun.apply(void 0,arguments)},click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.closebysd.apply(void 0,arguments)}}},[e("v-uni-view",{ref:"guiPopupBottom",staticClass:"gui-popup-content gui-popup-bottom",class:[t.out?"gui-bottom-out":"gui-bottom-in"],style:{animationDuration:t.duration+"ms"},on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.stopfun.apply(void 0,arguments)}}},[t._t("default")],2)],1):t._e(),"left"==t.position?e("v-uni-view",{ref:"guipopup",staticClass:"gui-popup gui-flex gui-columns",class:[t.out?"gui-fade-out":"gui-fade-in"],style:{backgroundColor:t.bgColor,zIndex:t.zIndex,top:t.top+"px",animationDuration:t.duration+"ms"},on:{touchmove:function(i){i.stopPropagation(),i.preventDefault(),arguments[0]=i=t.$handleEvent(i),t.stopfun.apply(void 0,arguments)},click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.closebysd.apply(void 0,arguments)}}},[e("v-uni-view",{ref:"guiPopupLeft",staticClass:"gui-popup-content gui-flex1 gui-flex gui-columns gui-popup-left",class:[t.out?"gui-left-out":"gui-left-in"],style:{width:t.width,animationDuration:t.duration+"ms"},on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.stopfun.apply(void 0,arguments)}}},[t._t("default")],2)],1):t._e(),"right"==t.position?e("v-uni-view",{ref:"guipopup",staticClass:"gui-popup gui-flex gui-columns gui-align-items-end",class:[t.out?"gui-fade-out":"gui-fade-in"],style:{backgroundColor:t.bgColor,zIndex:t.zIndex,top:t.top+"px",animationDuration:t.duration+"ms"},on:{touchmove:function(i){i.stopPropagation(),i.preventDefault(),arguments[0]=i=t.$handleEvent(i),t.stopfun.apply(void 0,arguments)},click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.closebysd.apply(void 0,arguments)}}},[e("v-uni-view",{ref:"guiPopupRight",staticClass:"gui-popup-content gui-flex1 gui-flex gui-columns gui-popup-right",class:[t.out?"gui-right-out":"gui-right-in"],style:{width:t.width,animationDuration:t.duration+"ms"},on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.stopfun.apply(void 0,arguments)}}},[t._t("default")],2)],1):t._e()],1):t._e()},n=[]},bc3f:function(t,i,e){"use strict";e.r(i);var a=e("c6c7"),n=e("f061");for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(o);e("2e56");var u=e("f0c5"),s=Object(u["a"])(n["default"],a["b"],a["c"],!1,null,"51689948",null,!1,a["a"],void 0);i["default"]=s.exports},bf99:function(t,i,e){"use strict";var a=e("2253"),n=e.n(a);n.a},c6c7:function(t,i,e){"use strict";e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){return a}));var a={guiPage:e("1d79").default,guiImage:e("e1fa").default,guiPopup:e("d2c4").default},n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("gui-page",{ref:"guiPage",attrs:{isLoading:t.pageLoading}},[e("v-uni-view",{attrs:{slot:"gBody"},slot:"gBody"},[t._l(t.list,(function(i,a){return[e("v-uni-view",{key:a+"_0",staticClass:"coupon mt20 ml30 gui-relative"},[e("gui-image",{attrs:{src:"/static/images/setting/coupon"+(t.userInfo.yBean>=i.yBean?"1":"")+".png",width:690,height:165}}),e("v-uni-view",{staticClass:"coupon gui-absolute-lt gui-flex gui-align-items-center gui-space-between"},[e("v-uni-view",{staticClass:"gui-flex gui-align-items-center w630"},[e("v-uni-view",{staticClass:"w215 no-scale"},[e("v-uni-view",{staticClass:"gui-padding"},[e("v-uni-text",{staticClass:"gui-text f30 cff4f00"},[t._v("￥")]),e("v-uni-text",{staticClass:"gui-text f70 fb cff4f00"},[t._v(t._s(i.jian))])],1),e("v-uni-view",{staticClass:"f26 cFFA075 gui-padding"},[t._v("满"+t._s(i.man)+"元可用")])],1),e("v-uni-view",{staticClass:"gui-padding"},[e("v-uni-view",{staticClass:"f26 fb gui-ellipsis",staticStyle:{width:"340rpx"}},[t._v(t._s(i.title))]),e("v-uni-view",{staticClass:"f22 c99 mt20"},[0==i.cate&&0==i.category?[t._v("全分类商品可用")]:t._e(),0!=i.cate&&0==i.category?[t._v("限"+t._s(i.cateTitle)+"类商品可用")]:t._e(),0!=i.cate&&0!=i.category?[t._v("限"+t._s(i.cateTitle)+"-"+t._s(i.categoryTitle)+"类商品可用")]:t._e()],2),e("v-uni-view",{staticClass:"f24 cff4f00 mt10"},[t._v("需"+t._s(i.yBean)+"Y豆")])],1)],1),0==i.isHave?[t.userInfo.yBean>=i.yBean?e("v-uni-view",{staticClass:"f26 w60 cff gui-text-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.receiveCoupons(i)}}},[e("v-uni-view",{staticStyle:{width:"22rpx"}},[t._v("立即兑换")])],1):e("v-uni-view",{staticClass:"f26 w60 cff gui-text-center"},[e("v-uni-view",{staticStyle:{width:"22rpx"}},[t._v("Y豆不足")])],1)]:[e("v-uni-view",{staticClass:"f26 w60 cff gui-text-center"},[e("v-uni-view",{staticStyle:{width:"22rpx"}},[t._v("已兑换")])],1)]],2)],1)]})),0==t.list.length?e("v-uni-view",{staticClass:"fullPage gui-flex gui-justify-content-center gui-align-items-center fm",staticStyle:{"margin-top":"-100rpx"}},[e("gui-image",{attrs:{src:"../../../static/images/noData.png",width:396,height:226,timer:0}})],1):t._e(),e("gui-popup",{ref:"guipopup",attrs:{canCloseByShade:!1,width:"542rpx"}},[t.item?e("v-uni-view",{staticClass:"gui-relative"},[e("gui-image",{attrs:{src:"/static/images/setting/dh.png",width:542}}),e("v-uni-view",{staticClass:"dh gui-absolute-lt gui-text-center"},[e("v-uni-view",{staticClass:"f34 fb mt238"},[t._v("温馨提示")]),e("v-uni-view",{staticClass:"f32 mt67"},[t._v("是否消耗"+t._s(t.item.yBean)+"Y豆兑换抵扣券")]),e("v-uni-view",{staticClass:"gui-flex gui-align-items-center gui-space-around mt50"},[e("v-uni-view",{staticClass:"btn2 cff4f00 border-ff4f00 f32",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.$refs.guipopup.close()}}},[t._v("取消")]),e("v-uni-view",{staticClass:"btn1 cff bgff4f00 f32",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.doReceiveCoupons.apply(void 0,arguments)}}},[t._v("确定")])],1)],1)],1):t._e()],1)],2)],1)},o=[]},c7c4:function(t,i,e){"use strict";e.r(i);var a=e("0364"),n=e.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(o);i["default"]=n.a},c9f6:function(t,i,e){var a=e("e844");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("faf62250",a,!0,{sourceMap:!1,shadowMode:!1})},d2c4:function(t,i,e){"use strict";e.r(i);var a=e("a78f"),n=e("4860");for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(o);e("bf99");var u=e("f0c5"),s=Object(u["a"])(n["default"],a["b"],a["c"],!1,null,"092cba5e",null,!1,a["a"],void 0);i["default"]=s.exports},e1fa:function(t,i,e){"use strict";e.r(i);var a=e("17f1"),n=e("c7c4");for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(o);e("7fb3");var u=e("f0c5"),s=Object(u["a"])(n["default"],a["b"],a["c"],!1,null,"398e8729",null,!1,a["a"],void 0);i["default"]=s.exports},e844:function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,".gui-img[data-v-398e8729]{width:%?500?%;height:%?500?%;overflow:hidden;font-size:0;position:relative}.gui-img-loading[data-v-398e8729]{position:absolute;left:0;top:0;background-color:#f8f8f8;font-size:%?58?%;color:#d9d9d9;text-align:center}",""]),t.exports=i},f061:function(t,i,e){"use strict";e.r(i);var a=e("4e81"),n=e.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(o);i["default"]=n.a}}]);