(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-ldd-editAddress"],{"084d":function(e,t,r){"use strict";var i=r("4ea4").default,n=i(r("53ca"));r("e9c4"),r("ac1f"),r("5319"),r("4d63"),r("c607"),r("2c3e"),r("25f0"),r("00b4"),r("c975"),r("7db0"),r("d3b7"),r("a9e3");var a=i(r("81b8"));e.exports={error:"",check:function(e,t){e=JSON.stringify(e);for(var r=JSON.parse(e),i=0;i<t.length;i++){if(!t[i].checkType)return!0;if(!t[i].name)return!0;if(!t[i].errorMsg)return!0;if("undefined"==typeof r[t[i].name]||""===r[t[i].name])return this.error=t[i].errorMsg,!1;switch("string"==typeof r[t[i].name]&&(r[t[i].name]=r[t[i].name].replace(/\s/g,"")),t[i].checkType){case"string":var s=new RegExp("^.{"+t[i].checkRule+"}$");if(!s.test(r[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"contain":var o=r[t[i].name]+"";if(-1==o.indexOf(t[i].checkRule))return this.error=t[i].errorMsg,!1;break;case"notContain":o=r[t[i].name]+"";if(-1!=o.indexOf(t[i].checkRule))return this.error=t[i].errorMsg,!1;break;case"inArray":if("object"!=(0,n.default)(t[i].checkRule))return this.error=t[i].errorMsg,!1;var c=t[i].checkRule.find((function(e){if(e==r[t[i].name])return!0}));if(!c)return this.error=t[i].errorMsg,!1;break;case"notInArray":if("object"!=(0,n.default)(t[i].checkRule))return this.error=t[i].errorMsg,!1;c=t[i].checkRule.find((function(e){if(e==r[t[i].name])return!0}));if(c)return this.error=t[i].errorMsg,!1;break;case"int":var u=t[i].checkRule.split(",");t.length<2?(u[0]=Number(u[0])-1,u[1]=""):(u[0]=Number(u[0])-1,u[1]=Number(u[1])-1);s=new RegExp("^-?\\d{"+u[0]+","+u[1]+"}$");if(!s.test(r[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"between":if(!this.isNumber(r[t[i].name]))return this.error=t[i].errorMsg,!1;var d=t[i].checkRule.split(",");if(d[0]=Number(d[0]),d[1]=Number(d[1]),r[t[i].name]>d[1]||r[t[i].name]<d[0])return this.error=t[i].errorMsg,!1;break;case"intBetween":s=/^-?\d+$/;if(!s.test(r[t[i].name]))return this.error=t[i].errorMsg,!1;d=t[i].checkRule.split(",");if(d[0]=Number(d[0]),d[1]=Number(d[1]),r[t[i].name]>d[1]||r[t[i].name]<d[0])return this.error=t[i].errorMsg,!1;break;case"betweenD":s=/^-?\d+$/;if(!s.test(r[t[i].name]))return this.error=t[i].errorMsg,!1;d=t[i].checkRule.split(",");if(d[0]=Number(d[0]),d[1]=Number(d[1]),r[t[i].name]>d[1]||r[t[i].name]<d[0])return this.error=t[i].errorMsg,!1;break;case"doubleBetween":s=/^-?\d?.+\d+$/;if(!s.test(r[t[i].name]))return this.error=t[i].errorMsg,!1;d=t[i].checkRule.split(",");if(d[0]=Number(d[0]),d[1]=Number(d[1]),r[t[i].name]>d[1]||r[t[i].name]<d[0])return this.error=t[i].errorMsg,!1;break;case"betweenF":s=/^-?\d?.+\d+$/;if(!s.test(r[t[i].name]))return this.error=t[i].errorMsg,!1;d=t[i].checkRule.split(",");if(d[0]=Number(d[0]),d[1]=Number(d[1]),r[t[i].name]>d[1]||r[t[i].name]<d[0])return this.error=t[i].errorMsg,!1;break;case"doubleLength":s=new RegExp("^-?\\d+.\\d{"+t[i].checkRule+"}$");if(!s.test(r[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"gt":if(r[t[i].name]<=t[i].checkRule)return this.error=t[i].errorMsg,!1;break;case"gtAndSame":if(r[t[i].name]<t[i].checkRule)return this.error=t[i].errorMsg,!1;break;case"lt":if(r[t[i].name]>=t[i].checkRule)return this.error=t[i].errorMsg,!1;break;case"ltAndSame":if(r[t[i].name]>t[i].checkRule)return this.error=t[i].errorMsg,!1;break;case"same":if(r[t[i].name]!=t[i].checkRule)return this.error=t[i].errorMsg,!1;break;case"notSame":if(r[t[i].name]==t[i].checkRule)return this.error=t[i].errorMsg,!1;break;case"notsame":if(r[t[i].name]==t[i].checkRule)return this.error=t[i].errorMsg,!1;break;case"email":s=/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;if(!s.test(r[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"phoneno":s=/^1[0-9]{10,10}$/;if(!s.test(r[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"phone":s=/^1[0-9]{10,10}$/;if(!s.test(r[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"zipcode":s=/^[0-9]{6}$/;if(!s.test(r[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"reg":s=new RegExp(t[i].checkRule);if(!s.test(r[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"in":if(-1==t[i].checkRule.indexOf(r[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"notnull":if(null==r[t[i].name]||r[t[i].name].length<1)return this.error=t[i].errorMsg,!1;break;case"samewith":if(r[t[i].name]!=r[t[i].checkRule])return this.error=t[i].errorMsg,!1;break;case"numbers":s=new RegExp("^[0-9]{"+t[i].checkRule+"}$");if(!s.test(r[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"url":s=/^(\w+:\/\/)?\w+(\.\w+)+.*$/;if(!s.test(r[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"idCard":var l=a.default.checkIdcard(r[t[i].name]);if("ok"!=l)return this.error=l,!1;break}}return!0},isNumber:function(e){return e=Number(e),NaN!=e}}},"16bf":function(e,t,r){"use strict";r("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("a9e3");var i={name:"gui-modal",props:{width:{type:String,default:"580rpx"},bodyStyle:{type:String,default:"background-color:#FFFFFF; border-radius:10rpx;"},isCloseBtn:{type:Boolean,default:!0},closeBtnStyle:{type:String,default:"color:#2B2E3D; font-size:28rpx;"},isTitle:{type:Boolean,default:!0},title:{type:String,default:"title"},titleStyle:{type:String,default:"line-height:90rpx; font-size:28rpx; color:#2B2E3D;"},canCloseByShade:{type:Boolean,default:!0},zIndex:{type:Number,default:99}},methods:{open:function(){this.$refs.guipopupformodal.open(),this.$emit("open")},close:function(){this.$refs.guipopupformodal.close(),this.$emit("close")},stopfun:function(e){return e.stopPropagation(),null},eClose:function(){this.$emit("close")}}};t.default=i},"1bfe":function(e,t,r){var i=r("24fb");t=i(!1),t.push([e.i,"uni-page-body[data-v-96415b84]{background-color:#f8f8f8}body.?%PAGE?%[data-v-96415b84]{background-color:#f8f8f8}.main[data-v-96415b84]{margin-top:%?20?%;background-color:#fff;padding:0 %?40?%}.maini[data-v-96415b84]{height:%?100?%}.mainil[data-v-96415b84]{font-size:%?30?%}.mainir[data-v-96415b84]{font-size:%?30?%;width:%?540?%}.width_[data-v-96415b84]{width:%?492?%;font-size:%?30?%}.color999999[data-v-96415b84]{color:#9999999}.mainir_[data-v-96415b84]{width:%?540?%;height:%?80?%;font-size:%?30?%;line-height:%?38?%;margin-top:%?4?%!important;padding:0!important}.maini_[data-v-96415b84]{padding:%?30?% 0}.mainirr[data-v-96415b84]{font-size:%?32?%;color:#999}.addrTxt1[data-v-96415b84]{color:#999}.addrTxt2[data-v-96415b84]{color:#ff4f00}.lb[data-v-96415b84]{left:%?30?%;bottom:%?30?%}.lb2[data-v-96415b84]{left:%?30?%;bottom:%?150?%}.lk[data-v-96415b84]{background-color:#fff;border:1px solid #ff4f00!important;color:#ff4f00}.postBtn[data-v-96415b84]{width:%?690?%;height:%?90?%;margin-top:%?60?%;font-size:%?30?%;line-height:%?90?%;padding:0;border-radius:%?46?%;background-color:#ff4f00;color:#fff;border:none!important}.postBtn_[data-v-96415b84]{width:%?690?%;height:%?90?%;margin-top:%?60?%;font-size:%?30?%;line-height:%?90?%;padding:0;border-radius:%?46?%;color:#ff4f00;border:thin solid #ff4f00}",""]),e.exports=t},3350:function(e,t,r){"use strict";r.r(t);var i=r("16bf"),n=r.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(a);t["default"]=n.a},"79af":function(e,t,r){var i=r("1bfe");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=r("4f06").default;n("b69253d6",i,!0,{sourceMap:!1,shadowMode:!1})},"81b8":function(e,t,r){"use strict";r("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("e25e"),r("ac1f"),r("00b4");var i={checkIdcard:function(e){var t,r,i,n,a=new Array("ok","身份证号码位数错误","身份证号码出生日期错误","身份证号码校验错误","身份证地区错误"),s=new Array;if(s=e.split(""),null=={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"}[parseInt(e.substr(0,2))])return a[4];switch(e.length){case 15:return r=(parseInt(e.substr(6,2))+1900)%4==0||(parseInt(e.substr(6,2))+1900)%100==0&&(parseInt(e.substr(6,2))+1900)%4==0?/^[1-9][0-9]{5}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}$/:/^[1-9][0-9]{5}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}$/,r.test(e)?a[0]:a[2];case 18:return r=parseInt(e.substr(6,4))%4==0||parseInt(e.substr(6,4))%100==0&&parseInt(e.substr(6,4))%4==0?/^[1-9][0-9]{5}19[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}[0-9Xx]$/:/^[1-9][0-9]{5}19[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}[0-9Xx]$/,r.test(e)?(i=7*(parseInt(s[0])+parseInt(s[10]))+9*(parseInt(s[1])+parseInt(s[11]))+10*(parseInt(s[2])+parseInt(s[12]))+5*(parseInt(s[3])+parseInt(s[13]))+8*(parseInt(s[4])+parseInt(s[14]))+4*(parseInt(s[5])+parseInt(s[15]))+2*(parseInt(s[6])+parseInt(s[16]))+1*parseInt(s[7])+6*parseInt(s[8])+3*parseInt(s[9]),t=i%11,"F","10X98765432",n="10X98765432".substr(t,1),n==s[17]?a[0]:a[3]):a[2];default:return a[1]}}};t.default=i},"8f54":function(e,t,r){"use strict";r.r(t);var i=r("f538"),n=r.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(a);t["default"]=n.a},"97dc":function(e,t,r){"use strict";var i=r("79af"),n=r.n(i);n.a},cf4f:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return i}));var i={guiPage:r("1d79").default,guiModal:r("e24b").default,guiActionSheet:r("4cb6").default},n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("gui-page",{ref:"guiPage",attrs:{isLoading:e.pageLoading}},[r("v-uni-view",{attrs:{slot:"gBody"},slot:"gBody"},[r("v-uni-form",{on:{submit:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}}},[r("v-uni-view",{staticClass:"main fm"},[r("v-uni-view",{staticClass:"maini gui-flex gui-space-between gui-align-items-center"},[r("v-uni-text",{staticClass:"mainil"},[e._v("收货人:")]),r("v-uni-input",{staticClass:"mainir",attrs:{name:"name",value:e.name,"placeholder-class":"color999999",placeholder:"请填写收货人姓名"}})],1),r("v-uni-view",{staticClass:"maini gui-flex gui-space-between gui-align-items-center gui-relative borderTop"},[r("v-uni-text",{staticClass:"mainil"},[e._v("手机号码:")]),r("v-uni-input",{staticClass:"mainir",attrs:{name:"tel",value:e.tel,type:"number",maxlength:11,"placeholder-class":"color999999",placeholder:"请填写收货人手机号码"}})],1),r("v-uni-view",{staticClass:"maini gui-flex gui-space-between gui-align-items-center gui-relative borderTop"},[r("v-uni-text",{staticClass:"mainil"},[e._v("所在地区:")]),r("v-uni-input",{staticClass:"mainir",attrs:{name:"province",value:e.province,"placeholder-class":"color999999",placeholder:"请选择省/直辖市",disabled:!0},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getLddAddressList(1,1)}}})],1),0!=e.provinceId?r("v-uni-view",{staticClass:"maini gui-flex gui-space-between gui-align-items-center gui-relative borderTop"},[r("v-uni-text",{staticClass:"mainil"}),r("v-uni-input",{staticClass:"mainir",attrs:{name:"city",value:e.city,"placeholder-class":"color999999",placeholder:"请选择"+(1!=e.provinceId&&3!=e.provinceId&&6!=e.provinceId&&26!=e.provinceId?"市":"区"),disabled:!0},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getLddAddressList(2,1)}}})],1):e._e(),0!=e.cityId?r("v-uni-view",{staticClass:"maini gui-flex gui-space-between gui-align-items-center gui-relative borderTop"},[r("v-uni-text",{staticClass:"mainil"}),r("v-uni-input",{staticClass:"mainir",attrs:{name:"county",value:e.county,"placeholder-class":"color999999",placeholder:"请选择"+(1!=e.provinceId&&3!=e.provinceId&&6!=e.provinceId&&26!=e.provinceId?"区":"街道"),disabled:!0},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getLddAddressList(3,1)}}})],1):e._e(),0!=e.countyId&&1!=e.provinceId&&3!=e.provinceId&&6!=e.provinceId&&26!=e.provinceId&&e.actionSheetItems.length>0?r("v-uni-view",{staticClass:"maini gui-flex gui-space-between gui-align-items-center gui-relative borderTop"},[r("v-uni-text",{staticClass:"mainil"}),r("v-uni-input",{staticClass:"mainir",attrs:{name:"street",value:e.street,"placeholder-class":"color999999",placeholder:"请选择街道",disabled:!0},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getLddAddressList(4,1)}}})],1):e._e(),r("v-uni-view",{staticClass:"maini_ gui-flex gui-space-between gui-relative borderTop"},[r("v-uni-text",{staticClass:"mainil"},[e._v("详细地址:")]),r("v-uni-textarea",{staticClass:"mainir_",attrs:{name:"address",value:e.address,"placeholder-class":"color999999",placeholder:"请输入详细地址信息，如道路、门牌号、小区、楼栋号、单元室等"}})],1)],1),r("v-uni-view",{staticClass:"main"},[r("v-uni-view",{staticClass:"maini gui-flex gui-space-between gui-align-items-center"},[r("v-uni-text",{staticClass:"mainil"},[e._v("设为默认收货地址")]),r("v-uni-text",{staticClass:"addrTxt2 gui-icons",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.setDefault.apply(void 0,arguments)}}},[e._v(e._s(e.isDefault?"":""))])],1)],1),0!=e.id?[r("v-uni-button",{staticClass:"postBtn fb gui-fixed-lb lb2",attrs:{formType:"submit","hover-class":""}},[e._v("保存")]),r("v-uni-button",{staticClass:"postBtn_ fb gui-fixed-lb lb lk",attrs:{"hover-class":""},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.$refs.guimodal.open()}}},[e._v("删除")])]:[r("v-uni-button",{staticClass:"postBtn fb gui-fixed-lb lb",attrs:{formType:"submit","hover-class":""}},[e._v("保存")])]],2),r("gui-modal",{ref:"guimodal",attrs:{isCloseBtn:!1,title:"操作提示"}},[r("v-uni-view",{staticClass:"plt30tb40 gui-bg-gray",attrs:{slot:"content"},slot:"content"},[r("v-uni-view",{staticClass:"gui-text-center f30 fm"},[e._v("确定要删除该地址吗？")])],1),r("v-uni-view",{staticClass:"gui-flex gui-rows gui-space-around",attrs:{slot:"btns"},slot:"btns"},[r("v-uni-view",{staticClass:"modal-btns",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.$refs.guimodal.close()}}},[r("v-uni-text",{staticClass:"c999999 fb"},[e._v("取消")])],1),r("v-uni-view",{staticClass:"modal-btns",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.removeAddr.apply(void 0,arguments)}}},[r("v-uni-text",{staticClass:"cFF4F00 fb"},[e._v("确认")])],1)],1)],1),r("gui-action-sheet",{ref:"guiactionsheet",attrs:{canCloseByShade:!0,listColor:"#FF4F00",height:900,isCancelBtn:!1,title:"请选择所在"+e.levelName,items:e.actionSheetItems},on:{selected:function(t){arguments[0]=t=e.$handleEvent(t),e.selected.apply(void 0,arguments)}}})],1)],1)},a=[]},d539:function(e,t,r){"use strict";r.r(t);var i=r("cf4f"),n=r("8f54");for(var a in n)["default"].indexOf(a)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(a);r("97dc");var s=r("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"96415b84",null,!1,i["a"],void 0);t["default"]=o.exports},d994:function(e,t,r){var i=r("e443");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=r("4f06").default;n("606db7a4",i,!0,{sourceMap:!1,shadowMode:!1})},dfcc:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return i}));var i={guiPopup:r("d2c4").default},n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("gui-popup",{ref:"guipopupformodal",attrs:{width:e.width,canCloseByShade:e.canCloseByShade,zIndex:e.zIndex},on:{close:function(t){arguments[0]=t=e.$handleEvent(t),e.eClose.apply(void 0,arguments)}}},[r("v-uni-view",{staticClass:"gui-relative",style:e.bodyStyle,on:{click:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t),e.stopfun.apply(void 0,arguments)}}},[r("v-uni-view",[e.isTitle?r("v-uni-text",{staticClass:"gui-block-text gui-text-center fb",style:e.titleStyle},[e._v(e._s(e.title))]):e._e()],1),r("v-uni-view",[e._t("content")],2),r("v-uni-view",[e._t("btns")],2),e.isCloseBtn?r("v-uni-text",{staticClass:"gui-popup-close gui-block-text gui-absolute-rt gui-icons",style:e.closeBtnStyle,on:{click:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}}},[e._v("")]):e._e()],1)],1)},a=[]},e24b:function(e,t,r){"use strict";r.r(t);var i=r("dfcc"),n=r("3350");for(var a in n)["default"].indexOf(a)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(a);r("e79f");var s=r("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"40b0802a",null,!1,i["a"],void 0);t["default"]=o.exports},e443:function(e,t,r){var i=r("24fb");t=i(!1),t.push([e.i,".gui-popup-close[data-v-40b0802a]{width:%?80?%;height:%?80?%;line-height:%?80?%;text-align:center}",""]),e.exports=t},e79f:function(e,t,r){"use strict";var i=r("d994"),n=r.n(i);n.a},f538:function(e,t,r){"use strict";r("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("14d9");var i,n=r("084d"),a={data:function(){return{pageLoading:!1,provinceCode:0,cityCode:0,countyCode:0,streetCode:0,provinceId:0,cityId:0,countyId:0,streetId:0,province:"",city:"",county:"",street:"",isDefault:!1,id:0,name:"",tel:"",address:"",actionSheetItems:[],level:0,levelName:"",isOver:!1}},onLoad:function(e){i=this,e.id&&(i.id=e.id,0!=e.id?(uni.gJS.setNavBar({title:"编辑收货地址"}),i.getUserAddressFromId()):uni.gJS.setNavBar({title:"添加收货地址"}))},methods:{selected:function(e){switch(i.level){case 1:i.provinceCode=i.actionSheetItems[e].code,i.provinceId=i.actionSheetItems[e].id,i.province=i.actionSheetItems[e].title,i.cityCode=0,i.cityId=0,i.city="",i.countyCode=0,i.countyId=0,i.county="",i.streetCode=0,i.streetId=0,i.street="";break;case 2:i.cityCode=i.actionSheetItems[e].code,i.cityId=i.actionSheetItems[e].id,i.city=i.actionSheetItems[e].title,i.countyCode=0,i.countyId=0,i.county="",i.streetCode=0,i.streetId=0,i.street="";break;case 3:i.countyCode=i.actionSheetItems[e].code,i.countyId=i.actionSheetItems[e].id,i.county=i.actionSheetItems[e].title,i.streetCode=0,i.streetId=0,i.street="",setTimeout((function(){i.getLddAddressList(4,0)}),50);break;case 4:i.streetCode=i.actionSheetItems[e].code,i.streetId=i.actionSheetItems[e].id,i.street=i.actionSheetItems[e].title;break}},getLddAddressList:function(e,t){i.pageLoading=!0;uni.getStorageSync("userInfo").id;var r=0;switch(i.level=e,e){case 1:r=0,i.levelName="省/直辖市";break;case 2:r=i.provinceId,1!=i.provinceId&&3!=i.provinceId&&6!=i.provinceId&&26!=i.provinceId?i.levelName="市":i.levelName="区";break;case 3:r=i.cityId,1!=i.provinceId&&3!=i.provinceId&&6!=i.provinceId&&26!=i.provinceId?i.levelName="区":i.levelName="街道";break;case 4:r=i.countyId,i.levelName="街道";break}uni.gRequest.post("swoft/api/ldd/getLddAddressList",{data:{pid:r,uid:uni.getStorageSync("userInfo").id}},(function(e){0==e.code&&(i.actionSheetItems=e.data,e.data.length>0?(1==t&&i.$refs.guiactionsheet.open(),i.isOver=!1):i.isOver=!0)}),(function(e){i.$refs.guiPage.openMessage("default","请求错误",!0,1500)}),(function(e){i.pageLoading=!1}),!0,!0)},setDefault:function(){i.isDefault=!i.isDefault},getUserAddressFromId:function(){i.pageLoading=!0,uni.gRequest.post("swoft/api/ldd/getUserAddressInfo",{data:{id:i.id,uid:uni.getStorageSync("userInfo").id}},(function(e){0==e.code&&(i.name=e.data.name,i.tel=e.data.tel,i.address=e.data.address,i.provinceCode=e.data.provinceCode,i.cityCode=e.data.cityCode,i.countyCode=e.data.countyCode,i.streetCode=e.data.streetCode,i.provinceId=e.data.provinceId,i.cityId=e.data.cityId,i.countyId=e.data.countyId,i.streetId=e.data.streetId,i.province=e.data.province,i.city=e.data.city,i.county=e.data.county,i.street=e.data.street,i.getLddAddressList(4,0),1==e.data.isDefault?i.isDefault=!0:i.isDefault=!1)}),(function(e){i.$refs.guiPage.openMessage("default","请求错误",!0,1500)}),(function(e){i.pageLoading=!1}),!0,!0)},removeAddr:function(){i.pageLoading=!0,uni.gRequest.post("swoft/api/ldd/delUserAddress",{data:{id:i.id,uid:uni.getStorageSync("userInfo").id}},(function(e){0==e.code&&(i.$refs.guimodal.close(),i.$refs.guiPage.openMessage("success",e.msg,!0,1500),setTimeout((function(){uni.navigateBack({delta:1})}),1500))}),(function(e){i.$refs.guiPage.openMessage("default","请求错误",!0,1500)}),(function(e){i.pageLoading=!1}),!0,!0)},submit:function(e){var t=[{name:"name",checkType:"notnull",checkRule:"",errorMsg:"请填写收货人姓名"},{name:"tel",checkType:"notnull",checkRule:"",errorMsg:"请填写收货人手机号码"},{name:"tel",checkType:"phoneno",checkRule:"",errorMsg:"手机号码格式不正确"},{name:"province",checkType:"notnull",checkRule:"",errorMsg:"请选择所在地区"},{name:"city",checkType:"notnull",checkRule:"",errorMsg:"请选择所在地区"},{name:"county",checkType:"notnull",checkRule:"",errorMsg:"请选择所在地区"}];i.isOver?i.actionSheetItems.length>0&&t.push({name:"street",checkType:"notnull",checkRule:"",errorMsg:"请选择所在地区"}):t.push({name:"street",checkType:"notnull",checkRule:"",errorMsg:"请选择所在地区"}),t.push({name:"address",checkType:"notnull",checkRule:"",errorMsg:"请填写详细地址"});var r=e.detail.value;r.provinceCode=i.provinceCode,r.cityCode=i.cityCode,r.countyCode=i.countyCode,r.streetCode=i.streetCode,r.provinceId=i.provinceId,r.cityId=i.cityId,r.countyId=i.countyId,r.streetId=i.streetId,r.province=i.province,r.city=i.city,r.county=i.county,r.street=i.street,i.isDefault?r.isDefault=1:r.isDefault=0;var a=n.check(r,t);if(!a)return i.$refs.guiPage.openMessage("default",n.error,!0,1500),!1;r.uid=uni.getStorageSync("userInfo").id,r.id=i.id,i.pageLoading=!0,uni.gRequest.post("swoft/api/ldd/editUserAddress",{data:r},(function(e){i.$refs.guiPage.openMessage("success",e.msg,!0,1500),0==e.code&&setTimeout((function(){uni.navigateBack({delta:1})}),1500)}),(function(e){i.$refs.guiPage.openMessage("default","请求错误",!0,1500)}),(function(e){i.pageLoading=!1,3==e.data.code&&(i.$refs.guiPage.openMessage("default","请重新登录",!0,1500),setTimeout((function(){uni.gRequest.gotoLogin()}),1500))}),!0,!0)}}};t.default=a}}]);